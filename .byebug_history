c
slot
available_slots
slot_not_booked?
valid_duration?
valid_date?
valid?
c
Date.parse(date)
booking.starts.to_date
date
c
bookings_on_given_date.last
bookings_on_given_date.count
c
slots
c
slots
current_time
c
slots
end_time
current_time
slots
c
current_time
slots
c
slots
c
slots
c
end_time
current_time
slots
c
end_time
current_time
exit
c
current_time
c
"#{booking.ends.hour}:#{booking.ends.min}"
"#{slot_date.hour}:#{slot_date.min}"
slot_date
c
timeslots_to_exclude
Booking.generate_15_min_timeslots(date)
c
end_time
current_time
c
current_time_slot
current_time
c
Time.zone.parse("#{date} #{current_time_slot}")
date
current_time_slot
Time.zone.parse("#{date} #{current_time_slot}")
current_time_slot
current_time
c
current_time
c
"#{booking.ends.hour}::#{booking.ends.min}"
"#{slot_date.hour}::#{slot_date.min}"
Booking.generate_15_min_timeslots(date, "#{slot_date.hour}::#{slot_date.min}", "#{booking.ends.hour}::#{booking.ends.min}")
date
"#{booking.ends.hour}::#{booking.ends.min}"
"#{slot_date.hour}::#{slot_date.min}"
slot_date = booking.starts - duration_in_minutes.minutes
duration_in_minutes
booking.starts.to_date != booking.ends.to_date
booking
exit
slots
n
bookings_on_given_date
c
end_time
current_time
c
n
end_time
current_time
c
end_time_slot
current_time_slot
end_time
current_time
